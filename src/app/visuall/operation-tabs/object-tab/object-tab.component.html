<div class="panel-group">
  <div class="panel" *ngIf="selectedClasses && selectedClasses.length > 0">
    <div
      class="panel-heading"
      data-bs-toggle="collapse"
      data-bs-target="#prop-tab"
      aria-expanded="true"
    >
      <span class="panel-title accordion-toggle"
        ><b class="va-heading2">{{ selectedClasses }}</b></span
      >
    </div>

    <div id="prop-tab" class="collapse show text-center m-1">
      <div *ngIf="selectedItemProps.segmentData" class="segment-data-container">
        {{ selectedItemProps.segmentData.val }}
      </div>
      <div *ngIf="selectedItemProps.pos" class="combined-sequence-container">
        <span
          *ngIf="selectedItemProps.leftOfTheContainedSequence"
          class="combined-sequence-container-part"
          >{{ selectedItemProps.leftOfTheContainedSequence.val }}</span
        >
        <span
          *ngIf="selectedItemProps.containedSequence"
          class="combined-sequence-container-part"
          >{{ selectedItemProps.containedSequence.val }}</span
        >
        <span
          *ngIf="selectedItemProps.rightOfTheContainedSequence"
          class="combined-sequence-container-part"
          >{{ selectedItemProps.rightOfTheContainedSequence.val }}</span
        >
      </div>
      <div
        *ngIf="selectedItemProps.distance"
        class="combined-sequence-container"
      >
        <span
          *ngIf="selectedItemProps.sourceSequence"
          class="combined-sequence-container-part"
          >{{ selectedItemProps.sourceSequence.val }}</span
        >
        <span
          *ngIf="selectedItemProps.distance"
          class="combined-sequence-container-part"
          >..({{ selectedItemProps.distance.val }})..</span
        >
        <span
          *ngIf="selectedItemProps.targetSequence"
          class="combined-sequence-container-part"
          >{{ selectedItemProps.targetSequence.val }}</span
        >
      </div>
      <div
        *ngIf="selectedItemProps.overlapSequence"
        class="combined-sequence-container"
      >
        <span
          *ngIf="selectedItemProps.sourceSequenceWithoutOverlap"
          class="combined-sequence-container-part"
          >{{ selectedItemProps.sourceSequenceWithoutOverlap.val }}</span
        >
        <span
          *ngIf="selectedItemProps.overlapSequence"
          class="combined-sequence-container-part"
          >{{ selectedItemProps.overlapSequence.val }}</span
        >
        <span
          *ngIf="selectedItemProps.targetSequenceWithoutOverlap"
          class="combined-sequence-container-part"
          >{{ selectedItemProps.targetSequenceWithoutOverlap.val }}</span
        >
      </div>

      <table class="table table-responsive table-borderless table-sm">
        <tbody>
          <tr *ngIf="selectedItemProps.sequenceLength">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.sequenceLength.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.sequenceLength.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.segmentName">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.segmentName.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.segmentName.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.segmentLength">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.segmentLength.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.segmentLength.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.readCount">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.readCount.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.readCount.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.fragmentCount">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.fragmentCount.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.fragmentCount.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.kmerCount">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.kmerCount.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.kmerCount.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.SHA256Checksum">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.SHA256Checksum.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.SHA256Checksum.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.URIorLocalSystemPath">
            <td class="text-start">
              <b class="va-text">{{
                selectedItemProps.URIorLocalSystemPath.name
              }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.URIorLocalSystemPath.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.overlap">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.overlap.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.overlap.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.targetOrientation">
            <td class="text-start">
              <b class="va-text">{{
                selectedItemProps.targetOrientation.name
              }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.targetOrientation.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.sourceOrientation">
            <td class="text-start">
              <b class="va-text">{{
                selectedItemProps.sourceOrientation.name
              }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.sourceOrientation.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.mappingQuality">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.mappingQuality.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.mappingQuality.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.numberOfMismatchesOrGaps">
            <td class="text-start">
              <b class="va-text">{{
                selectedItemProps.numberOfMismatchesOrGaps.name
              }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.numberOfMismatchesOrGaps.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.edgeIdentifier">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.edgeIdentifier.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.edgeIdentifier.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.indirectShortcutConnections">
            <td class="text-start">
              <b class="va-text">{{
                selectedItemProps.indirectShortcutConnections.name
              }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.indirectShortcutConnections.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.distance">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.distance.name }}</b>
            </td>
            <td class="va-text text-end">
              {{ selectedItemProps.distance.val }}
            </td>
          </tr>
          <tr *ngIf="selectedItemProps.pos">
            <td class="text-start">
              <b class="va-text">{{ selectedItemProps.pos.name }}</b>
            </td>
            <td class="va-text text-end">{{ selectedItemProps.pos.val }}</td>
          </tr>
        </tbody>
      </table>

      <table
        *ngIf="selectedItemProps.pathNames"
        class="table table-responsive table-borderless table-sm"
      >
        <div class="path-walk-title">
          <span class="va-heading1 va-text-center">Paths</span>
          <input
            class="btn btn-sm btn-dark va-text m-2 center"
            type="button"
            (click)="getPathsSelected()"
            value="Get Path(s)"
            title="Get Path(s)"
          />
        </div>
        <tbody>
          <ng-container
            *ngFor="let item of selectedItemProps.pathNames.val; let i = index"
          >
            <div class="path-walk-container">
              <div class="path-walk-item-begin">
                <div class="va-text">
                  <span>
                    <b>Path name: </b>
                  </span>
                  <span>
                    {{ selectedItemProps.pathNames.val[i] }}
                  </span>
                </div>
                <div class="path-walk-checkbox">
                  <input
                    type="checkbox"
                    [(ngModel)]="selectedItemProps.pathChecked[i]"
                    (change)="setOtherPathsFalse(i)"
                  />
                </div>
              </div>
              <div class="path-walk-item va-text">
                <span>
                  <b>Segment names </b>
                </span>
                <div class="path-walk-text-container">
                  <span>
                    {{
                      selectedItemProps.pathSegmentNames[i]
                        .replaceAll(";", " ")
                        .replaceAll(",", " ")
                    }}
                  </span>
                </div>
              </div>
              <div class="path-walk-item va-text">
                <span>
                  <b>Overlaps </b>
                </span>
                <div class="path-walk-text-container">
                  <span>
                    {{ selectedItemProps.pathOverlaps[i].replaceAll(",", " ") }}
                  </span>
                </div>
              </div>
            </div>
          </ng-container>
        </tbody>
      </table>

      <table
        *ngIf="selectedItemProps.walkSampleIds"
        class="table table-responsive table-borderless table-sm"
      >
        <div class="path-walk-title">
          <span class="va-heading1 va-text-center">Walks</span>
          <input
            class="btn btn-sm btn-dark va-text m-2 center"
            type="button"
            (click)="getWalksSelected()"
            value="Get Walk(s)"
            title="Get Walk(s)"
          />
        </div>
        <tbody>
          <ng-container
            *ngFor="
              let item of selectedItemProps.walkSampleIds.val;
              let i = index
            "
          >
            <div class="path-walk-container">
              <div class="path-walk-item-begin">
                <div class="va-text">
                  <span>
                    <b>Walk sample identifier: </b>
                  </span>
                  <span>
                    {{ selectedItemProps.walkSampleIds.val[i] }}
                  </span>
                </div>
                <div class="path-walk-checkbox">
                  <input
                    type="checkbox"
                    [(ngModel)]="selectedItemProps.walkChecked[i]"
                    (change)="setOtherWalksFalse(i)"
                  />
                </div>
              </div>
              <div class="path-walk-item va-text">
                <span>
                  <b>Haplotype index: </b>
                </span>
                <span>
                  {{ selectedItemProps.walkHapIndexes[i] }}
                </span>
              </div>
              <div class="path-walk-item va-text">
                <span>
                  <b>Sequence identifier: </b>
                </span>
                <span>
                  {{ selectedItemProps.walkSeqIds[i] }}
                </span>
              </div>
              <div class="path-walk-item va-text">
                <span>
                  <b>Start position: </b>
                </span>
                <span>
                  {{ selectedItemProps.walkSeqStarts[i] }}
                </span>
              </div>
              <div class="path-walk-item va-text">
                <span>
                  <b>End position: </b>
                </span>
                <span>
                  {{ selectedItemProps.walkSeqEnds[i] }}
                </span>
              </div>
              <div class="path-walk-item va-text">
                <span>
                  <b>Walk </b>
                </span>
                <div class="path-walk-text-container">
                  <span>
                    {{
                      selectedItemProps.walks[i]
                        .replaceAll("\<", " \< ")
                        .replaceAll("\>", " \> ")
                        .substring(1)
                    }}
                  </span>
                </div>
              </div>
            </div>
          </ng-container>
        </tbody>
      </table>

      <app-table-view
        *ngIf="isShowObjTable"
        [params]="multiObjTableInp"
        [tableFilled]="multiObjTableFilled"
        [clearFilter]="clearMultiObjTableFilter"
        (onFilteringChanged)="filterMultiObjTable($event)"
      >
      </app-table-view>
    </div>
  </div>

  <div class="panel">
    <div
      class="panel-heading collapsed"
      data-bs-toggle="collapse"
      data-bs-target="#stat-tab"
      aria-expanded="false"
    >
      <span class="panel-title accordion-toggle"
        ><b class="va-heading2">Statistics</b></span
      >
    </div>
    <div id="stat-tab" class="collapse">
      <app-table-view
        *ngIf="isShowStatsTable"
        [params]="tableInput"
        [tableFilled]="tableFilled"
        (onFilteringChanged)="filterTable($event)"
      >
      </app-table-view>
    </div>
  </div>

  <app-panel-container
    [panels]="customSubTabs"
    [containerId]="'obj-custom-sub-tab'"
  >
  </app-panel-container>
</div>
